{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/Download2/uniapp2023.6.27/App.vue?49ae","uni-app:///App.vue","webpack:///E:/Download2/uniapp2023.6.27/App.vue?8152","webpack:///E:/Download2/uniapp2023.6.27/App.vue?c566"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","$util","util","$config","configs","$Cache","Cache","$eventHub","$socket","socket","config","productionTip","component","skeleton","pageLoading","App","mpType","app","store","$mount","globalData","spid","code","isLogin","userInfo","MyMenus","isIframe","tabbarShow","windowHeight","computed","watch","deep","handler","cartNum","uni","index","text","onLaunch","that","console","HTTP_REQUEST_URL","option","val","updateManager","title","content","success","menuButtonInfo","Routine","then","catch","version","ga","GoogleAnalytics","tracker","getTracker","setAppName","setAppVersion","newTracker","onShow","mounted","setTimeout","methods","silenceAuth","spread_spid","spread_code","token","time","getCartNum","isWork","indexOf","onHide"],"mappings":";;;;;;;;;;;;;;AAAA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AAAuC;AAAA;AAjBvC;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB,CAAC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AASAC,YAAG,CAACC,SAAS,CAACC,KAAK,GAAGC,aAAI;AAC1BH,YAAG,CAACC,SAAS,CAACG,OAAO,GAAGC,YAAO;AAC/BL,YAAG,CAACC,SAAS,CAACK,MAAM,GAAGC,cAAK;AAC5BP,YAAG,CAACC,SAAS,CAACO,SAAS,GAAG,IAAIR,YAAG,EAAE;AACnCA,YAAG,CAACC,SAAS,CAACQ,OAAO,GAAG,IAAIC,iBAAM,EAAE;AACpCV,YAAG,CAACW,MAAM,CAACC,aAAa,GAAG,KAAK;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAIhCZ,YAAG,CAACa,SAAS,CAAC,UAAU,EAAEC,QAAQ,CAAC;AACnCd,YAAG,CAACa,SAAS,CAAC,aAAa,EAACE,WAAW,CAAC;AA+CxCC,YAAG,CAACC,MAAM,GAAG,KAAK;AAGlB,IAAMC,GAAG,GAAG,IAAIlB,YAAG,iCACZgB,YAAG;EACTG,KAAK,EAALA,cAAK;EACLZ,KAAK,EAALA;AAAK,GACJ;AACF,UAAAW,GAAG,EAACE,MAAM,EAAE,C;;;;;;;;;;;;;ACpFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAA+oB,CAAgB,oqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACCnqB;AAGA;AAGA;AAIA;AACA;AACA;AAGA;AAGA;AAIA;;AAEA,YACA;AACA,UACA;AACA,WACA;AACA,WACA;AACA,aACA;AAAA,eAGA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAL;IACAM;IACAC;IACAC;EACA;EACAC;EACAC;IACAP;MACAQ;MAAA;MACAC;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACAC;UACAC;UACAC;QACA;MACA;QACAF;UACAC;QACA;MACA;IACA;EACA;EACAE;IAAA;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACAC;cACAC;cACA;gBACA;gBACA;gBACAL;gBACAA;gBACAA;gBACAA;gBACA;kBACA;oBACAA;oBACAA;oBACA;kBACA;oBACAA;oBACAA;oBACA;kBACA;oBACAA;oBACAA;oBACA;kBACA;oBACAA;oBACAA;oBACA;kBACA;oBACAA;oBACAA;oBACA;kBACA;oBACAA;oBACAA;oBACA;gBAAA;cAEA;cACA;gBACAI;cACA;cACA;gBACAA;gBACAA;gBACAA;cACA;cAAA,MAkBAE;gBAAA;gBAAA;cAAA;cACAD,cACA,+HACA;cAAA,iCACA;YAAA;cAAA,KAEAE;gBAAA;gBAAA;cAAA;cAAA,cAEAA;cAAA,gCAEA,4BAKA,4BAIA,4BAIA;cAAA;YAAA;cAZAC;cACAJ;cAAA;YAAA;cAIAA;cAAA;YAAA;cAIAA;cAAA;YAAA;cAIAA;cAAA;YAAA;cAIAK;cAEAA;gBACA;cAAA,CACA;cAEAA;gBACA/C;kBACAgD;kBACAC;kBACAC;oBACA;sBACA;sBACAH;oBACA;kBACA;gBACA;cACA;cAEAA;gBACA;kBACAC;gBACA;cACA;;cAEA;cACA;cACA;cACA;cACAV;gBACAY;kBACAR;gBACA;cACA;cAEAS;cACAT;;cA6IA;cACA;gBACAU,2BACAC;kBACA;gBACA,GACAC;kBACAhB;gBACA;cACA;cAIAiB;cACA;gBACAb;cACA;gBACAA;cACA;cAGAc;cACAC;cACAtC;gBACA;gBACAuC;gBACAC;kBACA;oBACA;oBACA,iDACAC,qBACAC,qBACAC;;oBAEA;oBACA;kBACA;kBACA;gBACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACA;IAAA;MAAA;IAAA;IAAA;EAAA;EACAC;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAEA;EACAC;IAAA;IACAC;MACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;MACA;MACA;MACA;QACAzC;QACA0C;QACAC;MACA,GACAhB;QACA;UACAf;UACA;UACAI;YACA4B;YACAC;UACA;UACA7B;UACAA;QACA;MACA,GACAY;IACA;IACAkB;MAAA;MACA;MACA;QACA,2FACA;MACA;IACA;IACAC;MACA,uGACAC;IACA;EACA;EACAC,2BAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACjcA;AAAA;AAAA;AAAA;AAAkuC,CAAgB,+rCAAG,EAAC,C;;;;;;;;;;;ACAtvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;// +----------------------------------------------------------------------\n// | CRMEB [ CRMEB赋能开发者，助力企业发展 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2016~2021 https://www.crmeb.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Licensed CRMEB并不是自由软件，未经许可不能去掉CRMEB相关版权\n// +----------------------------------------------------------------------\n// | Author: CRMEB Team <admin@crmeb.com>\n// +----------------------------------------------------------------------\n\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\nimport Cache from './utils/cache'\nimport util from 'utils/util'\nimport configs from './config/app.js'\nimport socket from './libs/new_chat.js'\nVue.prototype.$util = util;\nVue.prototype.$config = configs;\nVue.prototype.$Cache = Cache;\nVue.prototype.$eventHub = new Vue();\nVue.prototype.$socket = new socket();\nVue.config.productionTip = false\nimport pageLoading from './components/pageLoading.vue'\nimport skeleton from './components/skeleton/index.vue'\n\nVue.component('skeleton', skeleton)\nVue.component('pageLoading',pageLoading)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nApp.mpType = 'app'\n\n\nconst app = new Vue({\n    ...App,\n\tstore,\n\tCache,\n})\napp.$mount();","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\n\timport {\n\t\tcheckLogin\n\t} from './libs/login';\n\timport {\n\t\tHTTP_REQUEST_URL\n\t} from './config/app';\n\timport {\n\t\tgetShopConfig,\n\t\tsilenceAuth\n\t} from '@/api/public';\n\timport Auth from '@/libs/wechat.js';\n\timport Routine from './libs/routine.js';\n\timport {\n\t\tgetCartCounts,\n\t} from '@/api/order.js';\n\timport {\n\t\tcolorChange\n\t} from '@/api/api.js';\n\timport {\n\t\tmapGetters\n\t} from \"vuex\"\n\t// #ifdef MP\n\t// let livePlayer = requirePlugin('live-player-plugin')\n\t// #endif\n\tlet green =\n\t\t'--view-theme: #42CA4D;--view-priceColor:#FF7600;--view-minorColor:rgba(108, 198, 94, 0.5);--view-minorColorT:rgba(66, 202, 77, 0.1);--view-bntColor:#FE960F;'\n\tlet red =\n\t\t'--view-theme: #e93323;--view-priceColor:#e93323;--view-minorColor:rgba(233, 51, 35, 0.5);--view-minorColorT:rgba(233, 51, 35, 0.1);--view-bntColor:#FE960F;'\n\tlet blue =\n\t\t'--view-theme: #1DB0FC;--view-priceColor:#FD502F;--view-minorColor:rgba(58, 139, 236, 0.5);--view-minorColorT:rgba(9, 139, 243, 0.1);--view-bntColor:#22CAFD;'\n\tlet pink =\n\t\t'--view-theme: #FF448F;--view-priceColor:#FF448F;--view-minorColor:rgba(255, 68, 143, 0.5);--view-minorColorT:rgba(255, 68, 143, 0.1);--view-bntColor:#282828;'\n\tlet orange =\n\t\t'--view-theme: #FE5C2D;--view-priceColor:#FE5C2D;--view-minorColor:rgba(254, 92, 45, 0.5);--view-minorColorT:rgba(254, 92, 45, 0.1);--view-bntColor:#FDB000;'\n\n\n\texport default {\n\t\tglobalData: {\n\t\t\tspid: 0,\n\t\t\tcode: 0,\n\t\t\tisLogin: false,\n\t\t\tuserInfo: {},\n\t\t\tMyMenus: [],\n\t\t\tglobalData: false,\n\t\t\tisIframe: false,\n\t\t\ttabbarShow: true,\n\t\t\twindowHeight: 0\n\t\t},\n\t\tcomputed: mapGetters(['isLogin', 'cartNum']),\n\t\twatch: {\n\t\t\tisLogin: {\n\t\t\t\tdeep: true, //深度监听设置为 true\n\t\t\t\thandler: function(newV, oldV) {\n\t\t\t\t\tif (newV) {\n\t\t\t\t\t\tthis.getCartNum()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$store.commit('indexData/setCartNum', '')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcartNum(newCart, b) {\n\t\t\t\tthis.$store.commit('indexData/setCartNum', newCart + '')\n\t\t\t\tif (newCart > 0) {\n\t\t\t\t\tuni.setTabBarBadge({\n\t\t\t\t\t\tindex: Number(uni.getStorageSync('FOOTER_ADDCART')) || 2,\n\t\t\t\t\t\ttext: newCart + ''\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.hideTabBarRedDot({\n\t\t\t\t\t\tindex: Number(uni.getStorageSync('FOOTER_ADDCART')) || 2\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonLaunch: async function(option) {\n\t\t\tlet that = this;\r\n\t\t\tconsole.log(\"app.js:\"+JSON.stringify(option));\n\t\t\tcolorChange('color_change').then(res => {\n\t\t\t\tlet navigation = res.data.navigation; //判断悬浮导航是否显示\n\t\t\t\tlet statusColor = res.data.status; //判断显示啥颜色\n\t\t\t\tuni.setStorageSync('navigation', navigation);\n\t\t\t\tuni.$emit('navOk', navigation);\n\t\t\t\tuni.setStorageSync('statusColor', statusColor);\n\t\t\t\tuni.$emit('colorOk', statusColor);\n\t\t\t\tswitch (res.data.status) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', blue)\n\t\t\t\t\t\tuni.$emit('ok', blue)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', green)\n\t\t\t\t\t\tuni.$emit('ok', green)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', red)\n\t\t\t\t\t\tuni.$emit('ok', red)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', pink)\n\t\t\t\t\t\tuni.$emit('ok', pink)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', orange)\n\t\t\t\t\t\tuni.$emit('ok', orange)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', red)\n\t\t\t\t\t\tuni.$emit('ok', red)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (option.query.pid) {\n\t\t\t\tthat.$Cache.set('spread', option.query.pid);\n\t\t\t}\n\t\t\tif (option.query.spread) {\n\t\t\t\tthat.$Cache.set('spread', option.query.spread);\n\t\t\t\tthat.globalData.spid = option.query.spread;\n\t\t\t\tthat.globalData.pid = option.query.spread;\n\t\t\t}\n\t\t\t// #ifdef APP-PLUS || H5\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t// 首页没有title获取的整个页面的高度，里面的页面有原生标题要减掉就是视口的高度\n\t\t\t\t\t// 状态栏是动态的可以拿到 标题栏是固定写死的是44px\n\t\t\t\t\tlet height = res.windowHeight - res.statusBarHeight - 44\n\t\t\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\t\t\tthat.globalData.windowHeight = res.windowHeight + 'px'\n\t\t\t\t\t// #endif\n\t\t\t\t\t// // #ifdef APP-PLUS\n\t\t\t\t\t// that.globalData.windowHeight = height + 'px'\n\t\t\t\t\t// // #endif\n\n\t\t\t\t}\n\t\t\t});\n\t\t\t// #endif\t\n\t\t\t// #ifdef MP\n\t\t\tif (HTTP_REQUEST_URL == '') {\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"请配置根目录下的config.js文件中的 'HTTP_REQUEST_URL'\\n\\n请修改开发者工具中【详情】->【AppID】改为自己的Appid\\n\\n请前往后台【小程序】->【小程序配置】填写自己的 appId and AppSecret\"\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (option.query.hasOwnProperty('scene')) {\n\n\t\t\t\tswitch (option.scene) {\n\t\t\t\t\t//扫描小程序码\n\t\t\t\t\tcase 1047:\n\t\t\t\t\t\tlet val = that.$util.getUrlParams(decodeURIComponent(option.query.scene));\n\t\t\t\t\t\tthat.globalData.code = val.pid === undefined ? val : val.pid;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//长按图片识别小程序码\n\t\t\t\t\tcase 1048:\n\t\t\t\t\t\tthat.globalData.code = option.query.scene;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//手机相册选取小程序码\n\t\t\t\t\tcase 1049:\n\t\t\t\t\t\tthat.globalData.code = option.query.scene;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//直接进入小程序\n\t\t\t\t\tcase 1001:\n\t\t\t\t\t\tthat.globalData.spid = option.query.scene;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst updateManager = wx.getUpdateManager();\n\n\t\t\tupdateManager.onCheckForUpdate(function(res) {\n\t\t\t\t// 请求完新版本信息的回调\n\t\t\t});\n\n\t\t\tupdateManager.onUpdateReady(function() {\n\t\t\t\twx.showModal({\n\t\t\t\t\ttitle: '更新提示',\n\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\n\t\t\t\t\t\t\tupdateManager.applyUpdate();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tupdateManager.onUpdateFailed(function() {\n\t\t\t\treturn that.Tips({\n\t\t\t\t\ttitle: '新版本下载失败'\n\t\t\t\t});\n\t\t\t});\n\t\t\t// #endif\n\t\t\t// getShopConfig().then(res => {\n\t\t\t// \tthis.$store.commit('SETPHONESTATUS', res.data.status);\n\t\t\t// });\n\t\t\t// 获取导航高度；\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tthat.globalData.navHeight = res.statusBarHeight * (750 / res.windowWidth) + 91;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// #ifdef MP\n\t\t\tlet menuButtonInfo = uni.getMenuButtonBoundingClientRect();\n\t\t\tthat.globalData.navH = menuButtonInfo.top * 2 + menuButtonInfo.height / 2;\n\t\t\t// #endif\n\n\t\t\t// #ifdef H5\n\t\t\t// 添加crmeb chat 统计\n\t\t\tvar __s = document.createElement('script');\n\t\t\t__s.src = `${HTTP_REQUEST_URL}/api/get_script`;\n\t\t\tdocument.head.appendChild(__s);\n\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess(e) {\n\t\t\t\t\t/* 窗口宽度大于420px且不在PC页面且不在移动设备时跳转至 PC.html 页面 */\n\t\t\t\t\tif (e.windowWidth > 420 && !window.top.isPC && !/iOS|Android/i.test(e.system)) {\n\t\t\t\t\t\twindow.location.pathname = '/static/html/pc.html';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (option.query.hasOwnProperty('type')) {\n\t\t\t\tthis.globalData.isIframe = true;\n\t\t\t} else {\n\t\t\t\tthis.globalData.isIframe = false;\n\t\t\t}\n\n\t\t\tif (window.location.pathname !== '/' && !this.isWork()) {\n\t\t\t\tlet snsapiBase = 'snsapi_base';\n\t\t\t\tlet urlData = location.pathname + location.search;\n\t\t\t\tif (!that.$store.getters.isLogin && uni.getStorageSync('authIng')) {\n\t\t\t\t\tuni.setStorageSync('authIng', false)\n\t\t\t\t}\n\t\t\t\tif (!that.$store.getters.isLogin && Auth.isWeixin()) {\n\t\t\t\t\tlet code,\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tscope = ''\n\n\t\t\t\t\tif (option.query.code instanceof Array) {\n\t\t\t\t\t\tcode = option.query.code[option.query.code.length - 1]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcode = option.query.code\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (code && code != uni.getStorageSync('snsapiCode') && location.pathname.indexOf(\n\t\t\t\t\t\t\t'/pages/users/wechat_login/index') === -1) {\n\t\t\t\t\t\t// 存储静默授权code\n\t\t\t\t\t\tuni.setStorageSync('snsapiCode', code);\n\t\t\t\t\t\tlet spread = that.globalData.spid ? that.globalData.spid : '';\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet res = await silenceAuth({\n\t\t\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\t\t\tsnsapi: 'snsapi_base',\n\t\t\t\t\t\t\t\tspread: that.$Cache.get('spread'),\n\t\t\t\t\t\t\t\tspid: that.globalData.code\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tuni.setStorageSync('snRouter', decodeURIComponent(decodeURIComponent(option.query\n\t\t\t\t\t\t\t\t.back_url)));\n\t\t\t\t\t\t\tif (res.data.key !== undefined && res.data.key) {\n\t\t\t\t\t\t\t\tthis.$Cache.set('snsapiKey', res.data.key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\n\t\t\t\t\t\t\t\tthis.$store.commit('LOGIN', {\n\t\t\t\t\t\t\t\t\ttoken: res.data.token,\n\t\t\t\t\t\t\t\t\ttime: time\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tthis.$store.commit('SETUID', res.data.userInfo.uid);\n\t\t\t\t\t\t\t\tthis.$store.commit('UPDATE_USERINFO', res.data.userInfo);\n\t\t\t\t\t\t\t\tif (option.query.back_url) {\n\t\t\t\t\t\t\t\t\tlocation.replace(decodeURIComponent(decodeURIComponent(option.query\n\t\t\t\t\t\t\t\t\t\t.back_url)));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlet url = ''\n\t\t\t\t\t\t\tif (option.query.back_url instanceof Array) {\n\t\t\t\t\t\t\t\turl = option.query.back_url[option.query.back_url.length - 1]\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\turl = option.query.back_url\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!that.$Cache.has('snsapiKey')) {\n\t\t\t\t\t\t\t\tif (location.pathname.indexOf('/pages/users/wechat_login/index') === -1) {\n\t\t\t\t\t\t\t\t\tAuth.oAuth('snsapi_userinfo', url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t// silenceAuth({\n\t\t\t\t\t\t// \t\tcode: code,\n\t\t\t\t\t\t// \t\tspread: that.$Cache.get('spread'),\n\t\t\t\t\t\t// \t\tspid: that.globalData.code\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// \t.then(res => {\n\t\t\t\t\t\t// \t\tuni.setStorageSync('snRouter', decodeURIComponent(decodeURIComponent(option.query\n\t\t\t\t\t\t// \t\t\t.back_url)));\n\t\t\t\t\t\t// \t\tif (res.data.key !== undefined && res.data.key) {\n\t\t\t\t\t\t// \t\t\tthis.$Cache.set('snsapiKey', res.data.key);\n\t\t\t\t\t\t// \t\t} else {\n\t\t\t\t\t\t// \t\t\tlet time = res.data.expires_time - this.$Cache.time();\n\t\t\t\t\t\t// \t\t\tthis.$store.commit('LOGIN', {\n\t\t\t\t\t\t// \t\t\t\ttoken: res.data.token,\n\t\t\t\t\t\t// \t\t\t\ttime: time\n\t\t\t\t\t\t// \t\t\t});\n\n\t\t\t\t\t\t// \t\t\tthis.$store.commit('SETUID', res.data.userInfo.uid);\n\t\t\t\t\t\t// \t\t\tthis.$store.commit('UPDATE_USERINFO', res.data.userInfo);\n\t\t\t\t\t\t// \t\t\tif (option.query.back_url) {\n\t\t\t\t\t\t// \t\t\t\tlocation.replace(decodeURIComponent(decodeURIComponent(option.query\n\t\t\t\t\t\t// \t\t\t\t\t.back_url)));\n\t\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// \t.catch(error => {\n\t\t\t\t\t\t// \t\tlet url = ''\n\t\t\t\t\t\t// \t\tif (option.query.back_url instanceof Array) {\n\t\t\t\t\t\t// \t\t\turl = option.query.back_url[option.query.back_url.length - 1]\n\t\t\t\t\t\t// \t\t} else {\n\t\t\t\t\t\t// \t\t\turl = option.query.back_url\n\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t// \t\tif (!that.$Cache.has('snsapiKey')) {\n\t\t\t\t\t\t// \t\t\tif (location.pathname.indexOf('/pages/users/wechat_login/index') === -1) {\n\t\t\t\t\t\t// \t\t\t\tAuth.oAuth(snsapiBase, url);\n\t\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t// \t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!this.$Cache.has('snsapiKey')) {\n\t\t\t\t\t\t\tif (location.pathname.indexOf('/pages/users/wechat_login/index') === -1) {\n\t\t\t\t\t\t\t\tAuth.oAuth(snsapiBase, urlData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (option.query.back_url) {\n\t\t\t\t\t\tlocation.replace(uni.getStorageSync('snRouter'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// #endif\n\t\t\t// #ifdef MP\n\t\t\t// 小程序静默授权\n\t\t\tif (!this.$store.getters.isLogin) {\n\t\t\t\tRoutine.getCode()\n\t\t\t\t\t.then(code => {\n\t\t\t\t\t\tthis.silenceAuth(code);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(res => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef MP\r\n\t\t\tconst version = uni.getSystemInfoSync().SDKVersion\r\n\t\t\tif (Routine.compareVersion(version, '2.21.2') >= 0) {\r\n\t\t\t\tthat.$Cache.set('MP_VERSION_ISNEW', true)\r\n\t\t\t} else {\r\n\t\t\t\tthat.$Cache.set('MP_VERSION_ISNEW', false)\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\tvar ga = require('./static/analytics/ga.js');\r\n\t\t\tvar GoogleAnalytics = ga.GoogleAnalytics;\r\n\t\t\tApp({\r\n\t\t\t    // ...\r\n\t\t\t    tracker: null,\r\n\t\t\t    getTracker: function () {\r\n\t\t\t        if (!this.tracker) {\r\n\t\t\t            // 初始化GoogleAnalytics Tracker\r\n\t\t\t            this.tracker = GoogleAnalytics.getInstance(this)\r\n\t\t\t                            .setAppName('珠海维港口腔')\r\n\t\t\t                            .setAppVersion('1.0')\r\n\t\t\t                            .newTracker('G-TFF6NGQJ1Z'); //用你的 Tracking ID 代替\r\n\t\t\t           \r\n\t\t\t            //使用自己的合法域名做跟踪数据转发\r\n\t\t\t            this.tracker.setTrackerServer(\"https://www.vickong.cn\"); \r\n\t\t\t        }\r\n\t\t\t        return this.tracker;\r\n\t\t\t    },\r\n\t\t\t    // ...\r\n\t\t\t})\n\t\t},\n\t\tonShow(options) {\n\t\t\tlet that = this;\n\t\t\t//直播间分享\n\t\t\t// #ifdef MP\n\t\t\t// const sceneList = [1007, 1008, 1014, 1044, 1045, 1046, 1047, 1048, 1049, 1073, 1154, 1155];\n\t\t\t//  if (sceneList.includes(options.scene)) {\n\t\t\t// \tlivePlayer.getShareParams()\n\t\t\t// \t\t.then(res => {\n\t\t\t// \t\t\t//记录推广人uid\n\t\t\t// \t\t\tif(res.custom_params.pid){\n\t\t\t// \t\t\t\t that.$Cache.set('spread', res.custom_params.pid);\n\t\t\t// \t\t\t\t that.globalData.spid = res.custom_params.pid;\n\t\t\t// \t\t\t\t that.globalData.pid = res.custom_params.pid;\n\t\t\t// \t\t\t}\n\t\t\t// \t\t}).catch(err => {\n\t\t\t// \t\t})\n\t\t\t// }\n\t\t\t// #endif\n\t\t},\n\t\tmounted() {\n\t\t\tsetTimeout((e) => {\n\t\t\t\tif (this.$store.getters.isLogin) {\n\t\t\t\t\tthis.getCartNum()\n\t\t\t\t}\n\t\t\t}, 100)\n\t\t},\n\t\tmethods: {\n\t\t\t// 小程序静默授权\n\t\t\tsilenceAuth(code) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet spread = that.globalData.spid ? that.globalData.spid : '';\n\t\t\t\tsilenceAuth({\n\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\tspread_spid: spread,\n\t\t\t\t\t\tspread_code: that.globalData.code\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.data.token !== undefined && res.data.token) {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\n\t\t\t\t\t\t\tthat.$store.commit('LOGIN', {\n\t\t\t\t\t\t\t\ttoken: res.data.token,\n\t\t\t\t\t\t\t\ttime: time\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthat.$store.commit('SETUID', res.data.userInfo.uid);\n\t\t\t\t\t\t\tthat.$store.commit('UPDATE_USERINFO', res.data.userInfo);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(res => {});\n\t\t\t},\n\t\t\tgetCartNum: function() {\n\t\t\t\tlet that = this;\n\t\t\t\tgetCartCounts().then(res => {\n\t\t\t\t\tthis.$store.commit('indexData/setCartNum', res.data.count > 99 ? '..' : res.data.count +\n\t\t\t\t\t\t'')\n\t\t\t\t});\n\t\t\t},\n\t\t\tisWork() {\n\t\t\t\treturn navigator.userAgent.toLowerCase().indexOf('wxwork') !== -1 && navigator.userAgent.toLowerCase()\n\t\t\t\t\t.indexOf(\"micromessenger\") !== -1\n\t\t\t}\n\t\t},\n\t\tonHide: function() {\n\n\t\t}\n\t};\n</script>\n\n<style lang=\"scss\">\n\t@import url('@/plugin/emoji-awesome/css/google.min.css');\n\t@import url('@/plugin/animate/animate.min.css');\n\t@import 'static/css/base.css';\n\t@import 'static/iconfont/iconfont.css';\n\t@import 'static/css/guildford.css';\n\t@import 'static/css/style.scss';\n\n\tview {\n\t\tbox-sizing: border-box;\n\t}\n\n\tpage {\n\t\tfont-family: PingFang SC;\n\t}\n\n\t.bg-color-red {\n\t\tbackground-color: var(--view-theme) !important;\n\t}\n\n\t.syspadding {\n\t\tpadding-top: var(--status-bar-height);\n\t}\n\n\t.flex {\n\t\tdisplay: flex;\n\t}\n\n\t.uni-scroll-view::-webkit-scrollbar {\n\t\t/* 隐藏滚动条，但依旧具备可以滚动的功能 */\n\t\tdisplay: none;\n\t}\n\n\t::-webkit-scrollbar {\n\t\twidth: 0;\n\t\theight: 0;\n\t\tcolor: transparent;\n\t}\n\n\t.uni-system-open-location .map-content.fix-position {\n\t\theight: 100vh;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t}\n</style>\n","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1690613877300\n      var cssReload = require(\"D:/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}