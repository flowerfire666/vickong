(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_combination/index"],{"12c3":function(n,t,i){"use strict";(function(n,t){var e=i("4ea4");i("98d3");e(i("66fd"));var a=e(i("2534"));n.__webpack_require_UNI_MP_PLUGIN__=i,t(a.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},2534:function(n,t,i){"use strict";i.r(t);var e=i("81c6"),a=i("fbb9");for(var o in a)["default"].indexOf(o)<0&&function(n){i.d(t,n,(function(){return a[n]}))}(o);i("ff0d");var c=i("f0c5"),r=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);t["default"]=r.exports},"25b6":function(n,t,i){"use strict";(function(n){var e=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("218c"),o=i("60e3"),c=e(i("6a7c")),r=(getApp(),{components:{home:function(){Promise.all([i.e("common/vendor"),i.e("components/home/index")]).then(function(){return resolve(i("47cf"))}.bind(null,i)).catch(i.oe)}},mixins:[c.default],data:function(){return{pinkPeople:[],pinkCount:0,bannerList:[],circular:!0,autoplay:!0,interval:3e3,duration:500,combinationList:[],limit:10,page:1,loading:!1,loadend:!1,isBanner:!1}},onLoad:function(){n.setNavigationBarTitle({title:"拼团列表"}),this.getCombinationList(),this.getBannerList(),this.getPink()},methods:{getPink:function(){var n=this;(0,a.getPink)({type:2}).then((function(t){n.pinkPeople=t.data.avatars,n.pinkCount=t.data.pink_count}))},getBannerList:function(){var n=this;(0,a.getCombinationBannerList)().then((function(t){n.bannerList=t.data,n.isBanner=!0}))},goDetail:function(t){var i=t.link;-1!=i.indexOf("http")||(-1==["/pages/goods_cate/goods_cate","/pages/order_addcart/order_addcart","/pages/user/index","/pages/index/index"].indexOf(i)?n.navigateTo({url:i}):n.switchTab({url:i}))},openSubcribe:function(t){n.showLoading({title:"正在加载"}),(0,o.openPinkSubscribe)().then((function(i){n.hideLoading(),n.navigateTo({url:"/pages/activity/goods_combination_details/index?id=".concat(t.id)})})).catch((function(){n.hideLoading()}))},getCombinationList:function(){var n=this;if(!n.loadend&&!n.loading){var t={page:n.page,limit:n.limit};this.loading=!0,(0,a.getCombinationList)(t).then((function(t){var i=n.combinationList,e=n.limit;n.page++,n.loadend=e>t.data.length,n.combinationList=i.concat(t.data),n.page=n.data.page,n.loading=!1})).catch((function(){n.loading=!1}))}}},onReachBottom:function(){this.getCombinationList()}});t.default=r}).call(this,i("543d")["default"])},"803c":function(n,t,i){},"81c6":function(n,t,i){"use strict";i.d(t,"b",(function(){return e})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var e=function(){var n=this,t=n.$createElement,i=(n._self._c,n.bannerList.length),e=n.pinkPeople.length,a=e>5?n.pinkPeople.length:null,o=!n.combinationList.length&&!n.loading&&n.isBanner,c=o?n.bannerList.length:null;n.$mp.data=Object.assign({},{$root:{g0:i,g1:e,g2:a,g3:o,g4:c}})},a=[]},fbb9:function(n,t,i){"use strict";i.r(t);var e=i("25b6"),a=i.n(e);for(var o in e)["default"].indexOf(o)<0&&function(n){i.d(t,n,(function(){return e[n]}))}(o);t["default"]=a.a},ff0d:function(n,t,i){"use strict";var e=i("803c"),a=i.n(e);a.a}},[["12c3","common/runtime","common/vendor"]]]);